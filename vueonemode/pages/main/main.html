<!-- 主框架页 实现界面的大布局 body为app.js中定义的 内容渲染点 -->
<script type="text/html">
  <div>

    <div style="position:absolute; left: 2rem; top: .6rem; right: 0; bottom: 0; min-width: 12rem">
      <div style="position: relative; width: 100%; height: 100%; overflow: auto; background: #EFEFEF" id="body">
        
        <component v-bind:is="currentComponent" v-bind:G="G"></component>

      </div>
    </div>

    <div id="menu" style="position:absolute; left: 0; top: .6rem; width: 2rem; bottom: 0; box-shadow: 0 .03rem .08rem rgba(0,0,0,.1); background: linear-gradient(to bottom, #0f6dad 0%,#66b5ed); overflow-y: auto;">

      <main-menu-list K-VUE-COMPONENT v-bind:G="G" v-bind:menus="menus" v-bind:url="currentComponent"></main-menu-list>

    </div>

    <div id="head" style="position:absolute; left: 0; top: 0; right: 0; height: .6rem; min-width: 14rem; box-shadow: 0 .03rem .08rem rgba(0,0,0,.1); background: #FFF">

      <main-header-index K-VUE-COMPONENT v-bind:G="G" v-bind:nav="nav"></main-header-index>

    </div>
    
  </div>
</script>


<script>
  Vue.component(__COMPONENT__, {
    props:[],

    template:__TEMPLATE__,

    data:function(){
      return {
        //配置全局参数 组件按需传参
        G:{
          KimConfig:{
            RootPath:Kim.RootPath,

            CDNstatic:Kim.CDNstatic,
          },

          uerinfo:G.userinfo(),
        },

        currentComponent:"",

        //菜单数据
        menus:[
          {id:1,name:"菜单1",icon:"fas fa-cash-register",url:"#test/index/index?id=7",child:[]},

          {id:200,name:"菜单2",icon:"fas fa-cash-register",url:"#test/index/index?id=5",child:[
            {id:201,name:"菜单1",url:"#test/index/index?id=6"},
          ]},

          {id:300,name:"菜单3",icon:"fas fa-cash-register",url:"#test/index/index?id=4",child:[
            {id:301,name:"菜单301",url:"#test/index/index?id=1"},
            {id:302,name:"菜单302",url:"#test/index/index?id=2"},
            {id:303,name:"菜单303",url:"#test/index/index?id=3"},
          ]},
        ],

        nav:[],
      };
    },

    methods:{
      test:function(){
        this.currentComponent = "main-index";
      }
    },
  });
</script>